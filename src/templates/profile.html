{% extends 'base.html' %}
{% block title %}PacePeek - Profile{% endblock %}
{% block content %}
<h1>Welcome, {{user.username}}</h1>
<h2>Your Repositories</h2>
<ul>
{% for repo in repos %}
<li><a href="https://github.com/{{repo.owner}}/{{repo.name}}">{{repo.name}}</a></li>
{% endfor %}
</ul>
<div id="add-repo-div">
    <button id="load-repos-btn" hx-get="/get-repos" hx-trigger="click" hx-target="#add-repo-div" hx-swap="outerHTML">
        Search New Repos
    </button>
</div>
<div>
    {% for post in posts %}
    <div class="post">
        <h2>{{user.username}} in Repo {{post.repo}}</h2>
        <p>{{post.text}}</p>
    </div>
        {% for commit in post.commits %}
        <h3>Commits</h3>
        <div class="commit">
            <a href="{{commit.link}}">{{commit.sha}}</a>
        </div>
        {% endfor %}
    {% endfor %}
</div>
{% endblock %}

